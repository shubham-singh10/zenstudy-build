{"version":3,"file":"static/js/3.e65b7786.chunk.js","mappings":"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","sources":["studentDashboard/component/Profile.jsx"],"sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport { FiUpload } from 'react-icons/fi';\r\nimport { TextField, Button } from '@mui/material';\r\nimport Swal from 'sweetalert2';\r\nimport Cookies from 'js-cookie';// Add this package\r\n\r\nconst Profile = () => {\r\n    const [userData, setUserData] = useState({\r\n        name: '',\r\n        email: '',\r\n        phone: '',\r\n        Address: '',\r\n        City: '',\r\n        State: '',\r\n        Country: '',\r\n        Pincode: '',\r\n        avatar: \"\"\r\n    });\r\n    const [image, setImage] = useState('https://i.ibb.co/GcKk9fh/images-2.jpg');\r\n    const [loading, setLoading] = useState(false);\r\n    const token = Cookies.get(\"access_tokennew\");\r\n    let userId = null;\r\n\r\n    if (token) {\r\n        try {\r\n            userId = token;\r\n        } catch (error) {\r\n            console.error('Error decoding token:', error);\r\n        }\r\n    }\r\n\r\n    // Handel Image Update\r\n    const handleImageChange = (e) => {\r\n        const file = e.target.files[0];\r\n        if (file) {\r\n            const reader = new FileReader();\r\n            reader.onloadend = () => {\r\n                setImage(reader.result);\r\n            };\r\n            reader.readAsDataURL(file);\r\n        }\r\n    };\r\n\r\n    //Get User Data API\r\n    const getUserData = async (userId) => {\r\n        try {\r\n            const response = await fetch(\r\n                `${process.env.REACT_APP_API}zenstudy/api/user/userdetail/${userId}`,\r\n                {\r\n                    method: \"GET\",\r\n                    headers: {\r\n                        \"Content-Type\": \"application/json\",\r\n                    },\r\n                }\r\n            );\r\n            if (!response.ok) {\r\n                const errorData = await response.json();\r\n                throw new Error(errorData.message || \"Failed to fetch user data\");\r\n            }\r\n            const resData = await response.json();\r\n            ////console.log(\"User_ProfileData\", resData)\r\n            setUserData(resData.userdetail || {});\r\n        } catch (error) {\r\n            Swal.fire({\r\n                icon: \"error\",\r\n                title: \"Oops...\",\r\n                text: `Error: ${error.message}`,\r\n            });\r\n        }\r\n    };\r\n\r\n    // Update User API \r\n    const submitData = async () => {\r\n        if (!userId) return;\r\n\r\n        setLoading(true);\r\n        // //console.log(\"User_Data\", userData)\r\n        try {\r\n            const response = await fetch(`${process.env.REACT_APP_API}zenstudy/api/user/updatenew/${userId}`, {\r\n                method: 'PUT',\r\n                headers: {\r\n                    'Content-Type': 'application/json',\r\n                    'Authorization': `Bearer ${token}`\r\n                },\r\n                body: JSON.stringify(userData)\r\n            });\r\n\r\n            if (!response.ok) {\r\n                const errorData = await response.json();\r\n                throw new Error(errorData.message || 'Failed to update user');\r\n            }\r\n            const resData = await response.json()\r\n            // //console.log(\"Response_Data\", resData)\r\n            if (resData.message === \"Success\") {\r\n                Swal.fire({\r\n                    icon: 'success',\r\n                    title: 'Success',\r\n                    text: 'User updated successfully',\r\n                });\r\n            }\r\n\r\n        } catch (error) {\r\n            Swal.fire({\r\n                icon: 'error',\r\n                title: 'Oops...',\r\n                text: `Error: User update failed.`,\r\n            });\r\n        } finally {\r\n            setLoading(false);\r\n        }\r\n    };\r\n\r\n    //User for set Image\r\n    useEffect(() => {\r\n        if (userData?.avatar) {\r\n            setImage(userData.avatar);\r\n        }\r\n    }, [userData])\r\n\r\n    //Call getUser Data\r\n    useEffect(() => {\r\n        if (userId) {\r\n            getUserData(userId);\r\n        }\r\n    }, [userId]);\r\n\r\n    return (\r\n        <form className=\"w-full mx-auto p-4 space-y-4\" onSubmit={(e) => e.preventDefault()}>\r\n            <div className=\"flex flex-col items-center mt-0\">\r\n                <img src={image} alt=\"Profile\" className=\"rounded-full w-44 mb-4\" />\r\n                <label className=\"flex bg-[#054BB4] text-white w-full md:w-1/3 items-center justify-center py-2 cursor-pointer\">\r\n                    <input\r\n                        type=\"file\"\r\n                        className=\"hidden\"\r\n                        onChange={handleImageChange}\r\n                    />\r\n                    <span className=\"px-4\">Choose File</span>\r\n                    <FiUpload className=\"text-2xl\" />\r\n                </label>\r\n            </div>\r\n            <div className=\"flex flex-col md:flex-row md:space-x-4 space-y-4 md:space-y-0\">\r\n                <TextField\r\n                    label=\"Name\"\r\n                    variant=\"outlined\"\r\n                    value={userData.name || ''}\r\n                    fullWidth\r\n                    onChange={(e) => setUserData(prev => ({ ...prev, name: e.target.value }))}\r\n                />\r\n                <TextField\r\n                    label=\"Email\"\r\n                    variant=\"outlined\"\r\n                    value={userData.email || ''}\r\n                    fullWidth\r\n                    onChange={(e) => setUserData(prev => ({ ...prev, email: e.target.value }))}\r\n                />\r\n            </div>\r\n            <TextField\r\n                label=\"Phone\"\r\n                variant=\"outlined\"\r\n                value={userData.phone || ''}\r\n                fullWidth\r\n                disabled\r\n            />\r\n            <TextField\r\n                label=\"Address\"\r\n                variant=\"outlined\"\r\n                value={userData.Address || ''}\r\n                fullWidth\r\n                onChange={(e) => setUserData(prev => ({ ...prev, Address: e.target.value }))}\r\n            />\r\n            <div className=\"flex flex-col md:flex-row md:space-x-4 space-y-4 md:space-y-0\">\r\n                <TextField\r\n                    label=\"City\"\r\n                    variant=\"outlined\"\r\n                    value={userData.City || ''}\r\n                    className=\"w-full md:w-1/2\"\r\n                    onChange={(e) => setUserData(prev => ({ ...prev, City: e.target.value }))}\r\n                />\r\n                <TextField\r\n                    label=\"State\"\r\n                    variant=\"outlined\"\r\n                    value={userData.State || ''}\r\n                    className=\"w-full md:w-1/2\"\r\n                    onChange={(e) => setUserData(prev => ({ ...prev, State: e.target.value }))}\r\n                />\r\n            </div>\r\n            <div className=\"flex flex-col md:flex-row md:space-x-4 space-y-4 md:space-y-0\">\r\n                <TextField\r\n                    label=\"Country\"\r\n                    variant=\"outlined\"\r\n                    value={userData.Country || ''}\r\n                    className=\"w-full md:w-1/2\"\r\n                    onChange={(e) => setUserData(prev => ({ ...prev, Country: e.target.value }))}\r\n                />\r\n                <TextField\r\n                    label=\"Pincode\"\r\n                    variant=\"outlined\"\r\n                    value={userData.Pincode || ''}\r\n                    className=\"w-full md:w-1/2\"\r\n                    onChange={(e) => setUserData(prev => ({ ...prev, Pincode: e.target.value }))}\r\n                />\r\n            </div>\r\n            <div className=\"flex justify-end\">\r\n                <Button\r\n                    variant=\"contained\"\r\n                    color=\"primary\"\r\n                    onClick={submitData}\r\n                    disabled={loading}\r\n                >\r\n                    {loading ? 'Updating...' : 'Update'}\r\n                </Button>\r\n            </div>\r\n        </form>\r\n    );\r\n};\r\n\r\nexport default Profile;\r\n"],"names":["Profile","userData","setUserData","useState","name","email","phone","Address","City","State","Country","Pincode","avatar","image","setImage","loading","setLoading","token","Cookies","get","userId","error","console","useEffect","async","response","fetch","concat","process","method","headers","ok","errorData","json","Error","message","resData","userdetail","Swal","icon","title","text","getUserData","_jsxs","className","onSubmit","e","preventDefault","children","_jsx","src","alt","type","onChange","file","target","files","reader","FileReader","onloadend","result","readAsDataURL","FiUpload","TextField","label","variant","value","fullWidth","prev","disabled","Button","color","onClick","body","JSON","stringify"],"sourceRoot":""}