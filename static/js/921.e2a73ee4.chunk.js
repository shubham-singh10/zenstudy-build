"use strict";(self.webpackChunkzenstudy_frontend=self.webpackChunkzenstudy_frontend||[]).push([[921],{7921:(e,s,t)=>{t.r(s),t.d(s,{default:()=>b});var n=t(5043),r=t(5200),o=t(6446),i=t(7383),a=t(9104),l=t(3216),d=t(5475),c=t(6720),u=t(4858),p=t(64),x=t.n(p),h=t(1880),m=t(8696),g=t(5843),f=t(3768),w=t(579);const b=()=>{const[e,s]=(0,n.useState)(!1),[t,p]=(0,n.useState)(!1),{register:b,handleSubmit:y,formState:{errors:j}}=(0,u.mN)(),N=(0,l.Zp)(),v=(0,l.zy)(),{ref:S,inView:P}=(0,g.Wx)({triggerOnce:!0}),{ref:z,inView:k}=(0,g.Wx)({triggerOnce:!0}),{ref:A,inView:C}=(0,g.Wx)({triggerOnce:!0}),O=(0,m.zh)({from:{y:100,opacity:0},to:{y:P?0:100,opacity:P?1:0},config:{duration:500}}),_=(0,m.zh)({from:{x:-100,opacity:0},to:{x:k?0:-100,opacity:k?1:0},config:{duration:500}}),W=(0,m.zh)({from:{x:100,opacity:0},to:{x:C?0:100,opacity:C?1:0},config:{duration:500}});return(0,w.jsx)("div",{className:"p-2 lg:p-12 md:p-10",children:(0,w.jsxs)("div",{className:"flex flex-col items-center lg:flex-row-reverse p-4 lg:p-12 bg-white gap-10 w-full",children:[(0,w.jsx)(m.CS.div,{ref:A,style:W,className:"bg-blue-600 text-center text-white p-4 lg:p-16 rounded-3xl lg:w-1/4 w-full",children:(0,w.jsx)("h1",{className:"text-3xl font-bold mb-4",children:"Welcome to ZenStudy"})}),(0,w.jsxs)("div",{className:"flex-1 p-2 lg:p-8 lg:w-3/4 w-full text-center lg:text-center",children:[(0,w.jsx)(m.CS.h2,{ref:S,style:O,className:"text-3xl font-bold mb-2 text-blue-600",children:"Welcome Back!"}),(0,w.jsx)(m.CS.p,{ref:S,style:O,className:"text-xl text-gray-600 mb-4",children:"Sign in to continue your learning journey with ZenStudy."}),(0,w.jsxs)(m.CS.form,{ref:z,style:_,className:"space-y-4",onSubmit:y((async e=>{try{var t;s(!0);const n={phone:e.phone,password:e.password},r=await fetch("".concat("https://api.zenstudy.in/","zenstudy/api/auth/signin"),{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)});if(!r.ok){const e=await r.json();throw new Error(e.message||"Login failed")}const o=await r.json();f.Ay.success("Welcome back, ".concat(o.name,"! You are now logged in."),{position:"top-right",duration:4e3,icon:"\ud83d\udc4f"}),s(!1),h.A.set("access_tokennew",o._id),localStorage.setItem("userData",JSON.stringify(o));const i=(null===(t=v.state)||void 0===t?void 0:t.from)||"/course-details-student";N(i)}catch(n){x().fire({icon:"error",title:"Oops...",text:"Login failed: ".concat(n.message)}),s(!1)}})),children:[(0,w.jsxs)(o.A,{sx:{"& > :not(style)":{m:1}},children:[(0,w.jsx)(i.A,{className:"w-full",id:"phone",label:"Enter Your Phone No.",variant:"outlined",...b("phone",{required:"Phone is required",minLength:{value:10,message:"Phone number must be 10 digits"},maxLength:{value:10,message:"Phone number must be 10 digits"},pattern:{value:/^\d{10}$/,message:"Phone number must be numeric"}}),error:!!j.phone,helperText:j.phone?j.phone.message:"",InputProps:{endAdornment:(0,w.jsx)(a.A,{position:"end",children:(0,w.jsx)(c.EZw,{size:25})})}}),(0,w.jsx)(i.A,{className:"w-full",id:"password",label:"Enter Your Password",variant:"outlined",type:t?"text":"password",...b("password",{required:"Password is required"}),error:!!j.password,helperText:j.password?j.password.message:"",InputProps:{endAdornment:(0,w.jsx)(a.A,{position:"end",children:t?(0,w.jsx)(r.Vap,{className:"cursor-pointer",size:25,onClick:()=>p(!1)}):(0,w.jsx)(r._NO,{className:"cursor-pointer",size:25,onClick:()=>p(!0)})})}})]}),(0,w.jsx)("p",{className:"text-end",children:(0,w.jsx)(d.N_,{to:"/reset-password",className:"hover:text-red-600 hover:underline",children:"Forgot Password?"})}),(0,w.jsxs)("div",{className:"flex justify-between",children:[(0,w.jsxs)("p",{children:["New User? ",(0,w.jsx)(d.N_,{to:"/sign-up",className:"underline text-blue-500 hover:text-blue-700",children:"Sign Up"})]}),e?(0,w.jsx)("button",{disabled:!0,className:"bg-red-600 text-white py-2 px-10 rounded-full",children:"Please wait..."}):(0,w.jsx)("button",{type:"submit",className:"bg-blue-600 text-white py-2 px-10 rounded-full hover:bg-blue-800",children:"Submit"})]})]})]})]})})}}}]);
//# sourceMappingURL=921.e2a73ee4.chunk.js.map