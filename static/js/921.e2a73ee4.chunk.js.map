{"version":3,"file":"static/js/921.e2a73ee4.chunk.js","mappings":"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","sources":["components/auth/Sign-In.jsx"],"sourcesContent":["import React, { useState } from 'react';\r\nimport { FiEye, FiEyeOff, FiFacebook, FiInstagram, FiTwitter, FiYoutube } from \"react-icons/fi\";\r\nimport { Box, TextField, InputAdornment } from '@mui/material';\r\nimport { Link, useNavigate, useLocation } from 'react-router-dom';\r\nimport { MdPhone } from 'react-icons/md';\r\nimport { useForm } from 'react-hook-form';\r\nimport Swal from 'sweetalert2';\r\nimport Cookies from 'js-cookie';\r\nimport { useSpring, animated } from \"@react-spring/web\";\r\nimport { useInView } from 'react-intersection-observer';\r\nimport toast from 'react-hot-toast';\r\n\r\nconst SignIn = () => {\r\n    const [loading, setLoading] = useState(false);\r\n    const [showPassword, setShowPassword] = useState(false);\r\n    const { register, handleSubmit, formState: { errors } } = useForm();\r\n    const navigate = useNavigate();\r\n    const location = useLocation();\r\n\r\n    // Intersection Observers\r\n    const { ref: slideUpRef, inView: slideUpInView } = useInView({ triggerOnce: true });\r\n    const { ref: slideLeftRef, inView: slideLeftInView } = useInView({ triggerOnce: true });\r\n    const { ref: slideRightRef, inView: slideRightInView } = useInView({ triggerOnce: true });\r\n\r\n    const SlideUp = useSpring({\r\n        from: { y: 100, opacity: 0 },\r\n        to: { y: slideUpInView ? 0 : 100, opacity: slideUpInView ? 1 : 0 },\r\n        config: { duration: 500 },\r\n    });\r\n\r\n    const SlideLeft = useSpring({\r\n        from: { x: -100, opacity: 0 },\r\n        to: { x: slideLeftInView ? 0 : -100, opacity: slideLeftInView ? 1 : 0 },\r\n        config: { duration: 500 },\r\n    });\r\n\r\n    const SlideRight = useSpring({\r\n        from: { x: 100, opacity: 0 },\r\n        to: { x: slideRightInView ? 0 : 100, opacity: slideRightInView ? 1 : 0 },\r\n        config: { duration: 500 },\r\n    });\r\n\r\n    const OnSubmit = async (data) => {\r\n        try {\r\n            setLoading(true);\r\n            const sendData = {\r\n                phone: data.phone,\r\n                password: data.password,\r\n            };\r\n            const response = await fetch(\r\n                `${process.env.REACT_APP_API}zenstudy/api/auth/signin`,\r\n                {\r\n                    method: \"POST\",\r\n                    credentials: 'include',\r\n                    headers: {\r\n                        \"Content-Type\": \"application/json\",\r\n                    },\r\n                    body: JSON.stringify(sendData),\r\n                }\r\n            );\r\n            if (!response.ok) {\r\n                const errorData = await response.json();\r\n                throw new Error(errorData.message || \"Login failed\");\r\n            }\r\n            const resData = await response.json();\r\n\r\n            toast.success(`Welcome back, ${resData.name}! You are now logged in.`, {\r\n                position: \"top-right\",\r\n                duration: 4000,\r\n                icon: 'üëè',\r\n            });\r\n\r\n            setLoading(false);\r\n            Cookies.set('access_tokennew', resData._id);\r\n            localStorage.setItem(\"userData\", JSON.stringify(resData));\r\n\r\n            const from = location.state?.from || '/course-details-student';\r\n            navigate(from); // Redirect back to the previous page or to the default page\r\n\r\n        } catch (error) {\r\n            Swal.fire({\r\n                icon: \"error\",\r\n                title: \"Oops...\",\r\n                text: `Login failed: ${error.message}`,\r\n            });\r\n            setLoading(false);\r\n        }\r\n    };\r\n\r\n    return (\r\n        <div className='p-2 lg:p-12 md:p-10'>\r\n            <div className=\"flex flex-col items-center lg:flex-row-reverse p-4 lg:p-12 bg-white gap-10 w-full\">\r\n                <animated.div ref={slideRightRef} style={SlideRight} className=\"bg-blue-600 text-center text-white p-4 lg:p-16 rounded-3xl lg:w-1/4 w-full\">\r\n                    <h1 className=\"text-3xl font-bold mb-4\">Welcome to ZenStudy</h1>\r\n                    {\r\n                    //     <h3 className=\"text-2xl font-bold mb-4\">Connect with us</h3>\r\n                    // <div className=\"flex space-x-4 justify-center\">\r\n                    //     <Link to=\"#\" className=\"hover:bg-red-500 rounded-full p-2\"><FiYoutube size={25} className='hover:text-white' /></Link>\r\n                    //     <Link to=\"#\" className=\"hover:bg-gradient-to-br from-[#405DE6] via-[#5B51D8] to-[#E1306C] rounded-full p-2\"><FiInstagram size={25} className='hover:text-white' /></Link>\r\n                    //     <Link to=\"#\" className=\"hover:bg-[#4267B2] rounded-full p-2\"><FiFacebook size={25} className='hover:text-white' /></Link>\r\n                    //     <Link to=\"#\" className=\"hover:bg-[#1DA1F2] rounded-full p-2\"><FiTwitter size={25} className='hover:text-white' /></Link>\r\n                    // </div>\r\n                }\r\n                </animated.div>\r\n                <div className=\"flex-1 p-2 lg:p-8 lg:w-3/4 w-full text-center lg:text-center\">\r\n                    <animated.h2 ref={slideUpRef} style={SlideUp} className=\"text-3xl font-bold mb-2 text-blue-600\">Welcome Back!</animated.h2>\r\n                    <animated.p ref={slideUpRef} style={SlideUp} className=\"text-xl text-gray-600 mb-4\">Sign in to continue your learning journey with ZenStudy.</animated.p>\r\n                    <animated.form ref={slideLeftRef} style={SlideLeft} className=\"space-y-4\" onSubmit={handleSubmit(OnSubmit)}>\r\n                        <Box sx={{ '& > :not(style)': { m: 1 } }}>\r\n                            <TextField\r\n                                className='w-full'\r\n                                id=\"phone\"\r\n                                label=\"Enter Your Phone No.\"\r\n                                variant=\"outlined\"\r\n                                {...register(\"phone\", {\r\n                                    required: \"Phone is required\",\r\n                                    minLength: { value: 10, message: \"Phone number must be 10 digits\" },\r\n                                    maxLength: { value: 10, message: \"Phone number must be 10 digits\" },\r\n                                    pattern: { value: /^\\d{10}$/, message: \"Phone number must be numeric\" }\r\n                                })}\r\n                                error={!!errors.phone}\r\n                                helperText={errors.phone ? errors.phone.message : ''}\r\n                                InputProps={{\r\n                                    endAdornment: (\r\n                                        <InputAdornment position='end'>\r\n                                            <MdPhone size={25} />\r\n                                        </InputAdornment>\r\n                                    ),\r\n                                }}\r\n                            />\r\n                            <TextField\r\n                                className='w-full'\r\n                                id=\"password\"\r\n                                label=\"Enter Your Password\"\r\n                                variant=\"outlined\"\r\n                                type={showPassword ? 'text' : 'password'}\r\n                                {...register(\"password\", { required: \"Password is required\" })}\r\n                                error={!!errors.password}\r\n                                helperText={errors.password ? errors.password.message : ''}\r\n                                InputProps={{\r\n                                    endAdornment: (\r\n                                        <InputAdornment position='end'>\r\n                                            {showPassword ?\r\n                                                <FiEye className='cursor-pointer' size={25} onClick={() => setShowPassword(false)} /> :\r\n                                                <FiEyeOff className='cursor-pointer' size={25} onClick={() => setShowPassword(true)} />\r\n                                            }\r\n                                        </InputAdornment>\r\n                                    ),\r\n                                }}\r\n                            />\r\n                        </Box>\r\n                        <p className='text-end'><Link to=\"/reset-password\" className='hover:text-red-600 hover:underline'>Forgot Password?</Link></p>\r\n                        <div className='flex justify-between'>\r\n                            <p>New User? <Link to=\"/sign-up\" className='underline text-blue-500 hover:text-blue-700'>Sign Up</Link></p>\r\n                            {loading ? (\r\n                                <button disabled className=\"bg-red-600 text-white py-2 px-10 rounded-full\">Please wait...</button>\r\n                            ) : (\r\n                                <button type=\"submit\" className=\"bg-blue-600 text-white py-2 px-10 rounded-full hover:bg-blue-800\">Submit</button>\r\n                            )}\r\n                        </div>\r\n                    </animated.form>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default SignIn;\r\n"],"names":["SignIn","loading","setLoading","useState","showPassword","setShowPassword","register","handleSubmit","formState","errors","useForm","navigate","useNavigate","location","useLocation","ref","slideUpRef","inView","slideUpInView","useInView","triggerOnce","slideLeftRef","slideLeftInView","slideRightRef","slideRightInView","SlideUp","useSpring","from","y","opacity","to","config","duration","SlideLeft","x","SlideRight","_jsx","className","children","_jsxs","animated","div","style","h2","p","form","onSubmit","async","_location$state","sendData","phone","data","password","response","fetch","concat","process","method","credentials","headers","body","JSON","stringify","ok","errorData","json","Error","message","resData","toast","success","name","position","icon","Cookies","set","_id","localStorage","setItem","state","error","Swal","title","text","Box","sx","m","TextField","id","label","variant","required","minLength","value","maxLength","pattern","helperText","InputProps","endAdornment","InputAdornment","MdPhone","size","type","FiEye","onClick","FiEyeOff","Link","disabled"],"sourceRoot":""}