"use strict";(self.webpackChunkzenstudy_frontend=self.webpackChunkzenstudy_frontend||[]).push([[3],{2003:(e,a,t)=>{t.r(a),t.d(a,{default:()=>u});var s=t(5043),l=t(5200),n=t(7383),i=t(9350),r=t(64),o=t.n(r),c=t(1880),d=t(579);const u=()=>{const[e,a]=(0,s.useState)({name:"",email:"",phone:"",Address:"",City:"",State:"",Country:"",Pincode:"",avatar:""}),[t,r]=(0,s.useState)("https://i.ibb.co/GcKk9fh/images-2.jpg"),[u,f]=(0,s.useState)(!1),m=c.A.get("access_tokennew");let h=null;if(m)try{h=m}catch(p){console.error("Error decoding token:",p)}return(0,s.useEffect)((()=>{null!==e&&void 0!==e&&e.avatar&&r(e.avatar)}),[e]),(0,s.useEffect)((()=>{h&&(async e=>{try{const t=await fetch("".concat("https://api.zenstudy.in/","zenstudy/api/user/userdetail/").concat(e),{method:"GET",headers:{"Content-Type":"application/json"}});if(!t.ok){const e=await t.json();throw new Error(e.message||"Failed to fetch user data")}const s=await t.json();a(s.userdetail||{})}catch(p){o().fire({icon:"error",title:"Oops...",text:"Error: ".concat(p.message)})}})(h)}),[h]),(0,d.jsxs)("form",{className:"w-full mx-auto p-4 space-y-4",onSubmit:e=>e.preventDefault(),children:[(0,d.jsxs)("div",{className:"flex flex-col items-center mt-0",children:[(0,d.jsx)("img",{src:t,alt:"Profile",className:"rounded-full w-44 mb-4"}),(0,d.jsxs)("label",{className:"flex bg-[#054BB4] text-white w-full md:w-1/3 items-center justify-center py-2 cursor-pointer",children:[(0,d.jsx)("input",{type:"file",className:"hidden",onChange:e=>{const a=e.target.files[0];if(a){const e=new FileReader;e.onloadend=()=>{r(e.result)},e.readAsDataURL(a)}}}),(0,d.jsx)("span",{className:"px-4",children:"Choose File"}),(0,d.jsx)(l.B88,{className:"text-2xl"})]})]}),(0,d.jsxs)("div",{className:"flex flex-col md:flex-row md:space-x-4 space-y-4 md:space-y-0",children:[(0,d.jsx)(n.A,{label:"Name",variant:"outlined",value:e.name||"",fullWidth:!0,onChange:e=>a((a=>({...a,name:e.target.value})))}),(0,d.jsx)(n.A,{label:"Email",variant:"outlined",value:e.email||"",fullWidth:!0,onChange:e=>a((a=>({...a,email:e.target.value})))})]}),(0,d.jsx)(n.A,{label:"Phone",variant:"outlined",value:e.phone||"",fullWidth:!0,disabled:!0}),(0,d.jsx)(n.A,{label:"Address",variant:"outlined",value:e.Address||"",fullWidth:!0,onChange:e=>a((a=>({...a,Address:e.target.value})))}),(0,d.jsxs)("div",{className:"flex flex-col md:flex-row md:space-x-4 space-y-4 md:space-y-0",children:[(0,d.jsx)(n.A,{label:"City",variant:"outlined",value:e.City||"",className:"w-full md:w-1/2",onChange:e=>a((a=>({...a,City:e.target.value})))}),(0,d.jsx)(n.A,{label:"State",variant:"outlined",value:e.State||"",className:"w-full md:w-1/2",onChange:e=>a((a=>({...a,State:e.target.value})))})]}),(0,d.jsxs)("div",{className:"flex flex-col md:flex-row md:space-x-4 space-y-4 md:space-y-0",children:[(0,d.jsx)(n.A,{label:"Country",variant:"outlined",value:e.Country||"",className:"w-full md:w-1/2",onChange:e=>a((a=>({...a,Country:e.target.value})))}),(0,d.jsx)(n.A,{label:"Pincode",variant:"outlined",value:e.Pincode||"",className:"w-full md:w-1/2",onChange:e=>a((a=>({...a,Pincode:e.target.value})))})]}),(0,d.jsx)("div",{className:"flex justify-end",children:(0,d.jsx)(i.A,{variant:"contained",color:"primary",onClick:async()=>{if(h){f(!0);try{const a=await fetch("".concat("https://api.zenstudy.in/","zenstudy/api/user/updatenew/").concat(h),{method:"PUT",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(m)},body:JSON.stringify(e)});if(!a.ok){const e=await a.json();throw new Error(e.message||"Failed to update user")}"Success"===(await a.json()).message&&o().fire({icon:"success",title:"Success",text:"User updated successfully"})}catch(p){o().fire({icon:"error",title:"Oops...",text:"Error: User update failed."})}finally{f(!1)}}},disabled:u,children:u?"Updating...":"Update"})})]})}}}]);
//# sourceMappingURL=3.e65b7786.chunk.js.map